<div class="container my-3">
  <h2>

    <ng-container *ngIf="pageMode == pageModeEnum.add; else pageTitleElse">
      <span>Add Customer</span>
    </ng-container>
    <ng-template #pageTitleElse>
      Edit Customer <span class="text-danger">{{ customer.firstName }} {{ customer.lastName }} </span>
    </ng-template>

  </h2>

  <hr>

  <form [formGroup]="customerForm" (ngSubmit)="submitForm()">

    <div class="row">

      <div class="col-md-6">
        <div>
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>First Name</mat-label>
            <input matInput placeholder="First Name" formControlName="firstName">
            <mat-error>First name is required.</mat-error>
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Last Name</mat-label>
            <input matInput placeholder="Last Name" formControlName="lastName">
            <mat-error>Last name is required.</mat-error>
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Phone Number</mat-label>
            <input matInput placeholder="Phone Number" formControlName="phoneNumber">
            <mat-error>Phone Number is required.</mat-error>
          </mat-form-field>
        </div>

        <div>
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Date of Birth</mat-label>
            <input matInput [matDatepicker]="dobPicker" formControlName="dateOfBirth">
            <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
            <mat-datepicker #dobPicker></mat-datepicker>
            <mat-error>Date of birth is required.</mat-error>
          </mat-form-field>

        </div>

      </div>

      <div class="col-md-6">

        <app-image-uploader [config]="uploaderConfig" (onUploadFinished)="customerImageUploaded()"></app-image-uploader>

      </div>

    </div>

    <div class="mt-3">

      <button mat-raised-button [routerLink]="['/customer']">Cancel</button>

      <button type="submit" mat-raised-button color="primary" class="ms-2">
        <ng-container *ngIf="pageMode == pageModeEnum.add; else formSubmitButtonName">
          Create
        </ng-container>
        <ng-template #formSubmitButtonName>
          Save
        </ng-template>
      </button>

    </div>

  </form>

</div>